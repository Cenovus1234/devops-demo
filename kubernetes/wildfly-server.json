{
    "id": "wildfly-server-controller",
    "apiVersion": "v1beta1",
    "kind": "ReplicationController",
    "desiredState": {
      "replicas": 1,
      "replicaSelector": {"name": "wildfly-server"},
      "podTemplate": {
        "desiredState": {
           "manifest": {
             "version": "v1beta1",
             "id": "wildfly-server-controller",
             "containers": [{
               "name": "wildfly-server",
               "image": "rafabene/wildfly-ticketmonster-server",
               "ports": [{"containerPort": 8009}],
               "imagePullPolicy": "PullAlways",
               "command": ["sh","-c",'/opt/jboss/wildfly/bin/domain.sh -b `hostname --ip-address`  -Djboss.domain.master.address=$WILDFLY_DOMAIN_SERVICE_HOST -Dpostgres.host=$POSTGRES_SERVICE_HOST']
             }]
           }
         },
         "labels": {"name": "wildfly-server"}
        }},
    "labels": {"name": "wildfly-server"}
  }